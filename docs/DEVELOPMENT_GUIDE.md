# 开发指南

## ⚠️ 核心原则 - 避免"按下葫芦浮起瓢"

为避免修改一处导致其他问题，必须遵循以下原则：

### 1. 严格遵循开发指南
- 修改前必看：readme.md 中的模块关系
- 改动数据库需查：DATABASE.md 中的关联关系
- 修改接口先看：API_DOCS.md 中的接口规范 

### 2. 时刻参考关键依赖点
- 会员标识逻辑（姓名/微信名）
- 卡类型处理（月卡/次卡）
- 数据验证规则

### 3. 按照检查清单执行
修改前：
- [ ] 检查影响范围
- [ ] 查看相关文档
- [ ] 确认验证规则

修改后：
- [ ] 验证所有相关功能
- [ ] 更新受影响文档
- [ ] 记录修改日志 

### 4. 保持文档同步更新
- 发现文档与代码不符立即更新
- 添加新功能同步更新文档
- 定期检查文档准确性 

### 5. 优先采用最小修改原则
- 优先考虑配置调整和简单修复
- 在不重构现有代码的前提下寻找最优解
- 确保修改范围可控且影响可预期
- 记录所有尝试过的解决方案

[以下是详细的开发指南...] 

## 数据验证规则

### 会员管理
1. 身份唯一性
   - 微信号作为唯一标识
   - 不允许重复注册

2. 卡类型规则
   - 月卡：必须设置到期日期
   - 次卡：必须设置剩余次数
   - 单次卡：无特殊要求

3. 数据完整性
   - 必填字段：姓名、微信号、卡类型
   - 选填字段：手机号、到期日期、剩余次数 