-- 测试用例6：老会员额外签到（会员卡过期）
SELECT '测试用例6：老会员额外签到（会员卡过期）' AS test_case;
SELECT handle_check_in(
  '33333333-3333-3333-3333-333333333333',  -- 会员ID
  '测试额外签到会员',                      -- 姓名
  'extra@test.com',                       -- 邮箱
  '44444444-5555-6666-7777-888888888888',  -- 过期团课卡ID
  'morning',                              -- 课程类型
  CURRENT_DATE,                           -- 签到日期
  '09:00-10:30'                           -- 时间段（修改为有效时间段）
);

-- 测试用例7：老会员额外签到（课时用完）
SELECT '测试用例7：老会员额外签到（课时用完）' AS test_case;
SELECT handle_check_in(
  '33333333-3333-3333-3333-333333333333',  -- 会员ID
  '测试额外签到会员',                      -- 姓名
  'extra@test.com',                       -- 邮箱
  '55555555-6666-7777-8888-999999999999',  -- 课时用完的私教卡ID
  'private',                              -- 课程类型
  CURRENT_DATE,                           -- 签到日期
  '14:00-15:00',                          -- 时间段（修改为不同时间段）
  '88888888-7777-6666-5555-444444444444',  -- 教练ID
  false                                   -- 是否1对2
);

-- 测试用例8：老会员额外签到（无有效会员卡）
SELECT '测试用例8：老会员额外签到（无有效会员卡）' AS test_case;
SELECT handle_check_in(
  '33333333-3333-3333-3333-333333333333',  -- 会员ID
  '测试额外签到会员',                      -- 姓名
  'extra@test.com',                       -- 邮箱
  NULL,                                   -- 会员卡ID（不提供卡）
  'evening',                              -- 课程类型
  CURRENT_DATE,                           -- 签到日期
  '17:00-18:30'                           -- 时间段（修改为有效时间段）
);

-- 测试用例9：重复签到检测
SELECT '测试用例9：重复签到检测' AS test_case;
SELECT handle_check_in(
  '22222222-2222-2222-2222-222222222222',  -- 会员ID
  '测试老会员',                            -- 姓名
  'old@test.com',                         -- 邮箱
  '11111111-2222-3333-4444-555555555555',  -- 团课课时卡ID
  'morning',                              -- 课程类型
  CURRENT_DATE,                           -- 签到日期
  '09:00-10:30'                           -- 时间段（与测试用例2相同）
); 